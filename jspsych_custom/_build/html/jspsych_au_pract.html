
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
<title>jsPsych practical</title>

    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Repetition code example" href="repetition.html" />
    <link rel="prev" title="An introduction to jsPsych" href="jspsych_au.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="jspsych-practical">
<h1>jsPsych practical<a class="headerlink" href="#jspsych-practical" title="Permalink to this headline">¶</a></h1>
<div class="section" id="documentation-and-examples">
<h2>Documentation and examples<a class="headerlink" href="#documentation-and-examples" title="Permalink to this headline">¶</a></h2>
<p>Just a reminder ….</p>
<p>Throughout this practical please keep the documentation handy.</p>
<p>jsPsych website: <a class="reference external" href="https://www.jspsych.org">https://www.jspsych.org</a>
MDN (for HTML, CSS and JavaScript): <a class="reference external" href="https://developer.mozilla.org/">https://developer.mozilla.org/</a></p>
<p>Most of the time for HTML, CSS and JavaScript docs, typing “mdn &lt;something&gt;”
into a search engine will get you the right page. For example if I search for</p>
<blockquote>
<div><p>mdn array</p>
</div></blockquote>
<p>the first result is:</p>
<p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array</a></p>
<p>Also please refer to the front page where there are many examples you can
refer to. Feel free to copy these and adapt them to what you need.</p>
<p>Some of the examples use a test set of images of animals (<code class="docutils literal notranslate"><span class="pre">Dog1.jpg</span></code> etc.).
If you’d like to use these
please download them from here:</p>
<p><a class="reference external" href="https://tullo.co.uk/au/images.zip">https://tullo.co.uk/au/images.zip</a></p>
</div>
<div class="section" id="cyberduck">
<h2>CyberDuck<a class="headerlink" href="#cyberduck" title="Permalink to this headline">¶</a></h2>
<p>Make sure that CyberDuck (or another SFTP client) is configured and able to connect to the server.
Also, make sure that you can SSH in to your server. If either of these is not
working please let one of the tutors know.</p>
<p>It would be useful to make sure that CyberDuck can edit files on the server
directly – this will save you a lot of time.</p>
<p><a class="reference internal" href="directedit.html#directedit"><span class="std std-ref">Direct editing with Cyberduck</span></a></p>
</div>
<div class="section" id="installing-jspsych">
<h2>Installing jsPsych<a class="headerlink" href="#installing-jspsych" title="Permalink to this headline">¶</a></h2>
<p>Log in to your server using SSH.</p>
<p>Make sure that jsPsych is activated using the commands you were given in the
server instructions (6.2 Enabling jsPsych).</p>
<p>Now let’s make a directory for jsPsych to live in, download and unpack it.
We’ll need to install <code class="docutils literal notranslate"><span class="pre">unzip</span></code> to do this.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt install unzip
<span class="nb">cd</span> /var/www/html
mkdir jspsych-6.1.0
<span class="nb">cd</span> jspsych-6.1.0
wget https://github.com/jspsych/jsPsych/releases/download/v6.1.0/jspsych-6.1.0.zip
unzip jspsych-6.1.0.zip
rm jspsych-6.1.0.zip
</pre></div>
</div>
<p>All done, now let’s make a directory for your test experiment:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir /var/www/html/hello
</pre></div>
</div>
<p>Now make the two files for the test experiment.
You can either create two files on your computer and copy them over, or create
them on the server. Make a file called <code class="docutils literal notranslate"><span class="pre">hello.html</span></code> with these
contents:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Example experiment<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;../jspsych-6.1.0/jspsych.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;../jspsych-6.1.0/plugins/jspsych-html-keyboard-response.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;hello.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;../jspsych-6.1.0/css/jspsych.css&quot;</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/css&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">link</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>and <code class="docutils literal notranslate"><span class="pre">hello.js</span></code> with these contents:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">trial</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;html-keyboard-response&#39;</span><span class="p">,</span>
    <span class="nx">stimulus</span><span class="o">:</span> <span class="s1">&#39;Hello world!&#39;</span>
<span class="p">};</span>

<span class="nx">jsPsych</span><span class="p">.</span><span class="nx">init</span><span class="p">({</span>
    <span class="nx">timeline</span><span class="o">:</span> <span class="p">[</span><span class="nx">trial</span><span class="p">]</span>
<span class="p">});</span>
</pre></div>
</div>
<p>If this is working correctly, when you go to:</p>
<p><a class="reference external" href="https:/">https:/</a>/&lt;name&gt;.cogsciexperiment.au.dk/hello/hello.html</p>
<p>(substitute the correct name for your server!) you should see the words “Hello world!” which disappear when you press a key.</p>
<div class="topic">
<p class="topic-title">Breakout</p>
<p>Let’s go into our breakout groups and check that everyone can successfully
upload and run the example.</p>
</div>
</div>
<div class="section" id="more-experiments">
<h2>More experiments<a class="headerlink" href="#more-experiments" title="Permalink to this headline">¶</a></h2>
<p>Throughout this practical, it’s wise to keep a copy of each example you work
on. When you start working on a new example, usually you’ll want to start from
a copy of the previous one. To do this, either use <code class="docutils literal notranslate"><span class="pre">cp</span> <span class="pre">-r</span></code> in the terminal, e.g.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp -r /var/www/html/hello /var/www/html/next_example
</pre></div>
</div>
<p>or use “Duplicate” in CyberDuck.</p>
</div>
<div class="section" id="console-and-debugger">
<h2>Console and debugger<a class="headerlink" href="#console-and-debugger" title="Permalink to this headline">¶</a></h2>
<p>When writing any computer program, it’s always good to have
some tools to help you find out what’s going on. This is
particularly important when something goes wrong! For an
online experiment in JavaScript, you can use the
web developer tools in your browser. All recent versions of
browsers have these tools built in.</p>
<p>First, here’s how to open developer tools for your browser:</p>
<dl class="simple">
<dt>Firefox</dt><dd><p>In the menu, Web Developer → Toggle Tools (or Ctrl-Shift-I)</p>
</dd>
<dt>Chrome</dt><dd><p>In the menu, More Tools → Developer Tools (or Ctrl-Shift-I)</p>
</dd>
<dt>Internet Explorer/Edge</dt><dd><p>Press F12 to start Developer tools</p>
</dd>
<dt>Safari</dt><dd><p>Preferences → Advanced and check “Show Develop menu in menu bar”.
Then Develop → Show Web Inspector</p>
</dd>
</dl>
<p>In my examples I’ll use Firefox, but these are all fairly similar.</p>
<p>Go to the page for your experiment – use the link for the
uploaded copy on the server, not the copy on your computer.</p>
<p>Now go to the web page for the example experiment
you created. Enable Developer Tools (see the list above) and
reload the page. You’ll see something like this:</p>
<a class="reference internal image-reference" href="_images/dev_tools.png"><img alt="_images/dev_tools.png" src="_images/dev_tools.png" style="width: 90%;" /></a>
<div class="section" id="the-console">
<h3>The console<a class="headerlink" href="#the-console" title="Permalink to this headline">¶</a></h3>
<p>Click on the tab marked “Console”. This contains messages from your web browser.
Most useful are the errors! Open your experiment JavaScript file and break the code.</p>
<blockquote>
<div><p>Yes, I’m actually telling you to break the code! The easiest way is to delete
a bracket – <code class="docutils literal notranslate"><span class="pre">(</span></code>, <code class="docutils literal notranslate"><span class="pre">[</span></code> or <code class="docutils literal notranslate"><span class="pre">{</span></code>, as if these are not in matching pairs that will cause an
error.</p>
</div></blockquote>
<p>Now reload the page. You should see something like this:</p>
<a class="reference internal image-reference" href="_images/dev_tools_error.png"><img alt="_images/dev_tools_error.png" src="_images/dev_tools_error.png" style="width: 90%;" /></a>
<p>There’s an error reported in the console, in red. This will give you a clue as
to where the problem is! You can click on the links on the right which will show
you the relevant parts of the code. While error messages can be a little cryptic,
there’s usually something which will help, like “missing }”.</p>
<p>Now fix your experiment!</p>
</div>
<div class="section" id="the-debugger">
<h3>The debugger<a class="headerlink" href="#the-debugger" title="Permalink to this headline">¶</a></h3>
<p>These tools can also allow you to step through the code line-by-line. Now click
on the tab marked “Debugger” or “Sources”. You’ll see something like this:</p>
<a class="reference internal image-reference" href="_images/debugger.png"><img alt="_images/debugger.png" src="_images/debugger.png" style="width: 90%;" /></a>
<p>Here you can see your code, and watch it run. Click in the margin next to the code,
on the line:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">init</span><span class="p">({</span>
</pre></div>
</div>
<p>Now reload the page. The program has stopped on that line. The point that you chose
by clicking in the margin is called a <strong>breakpoint</strong>.</p>
<a class="reference internal image-reference" href="_images/debugger_stopped.png"><img alt="_images/debugger_stopped.png" src="_images/debugger_stopped.png" style="width: 90%;" /></a>
<p>On the right there’s a sidebar called “Scopes”. (This has other names in other browsers,
but there should be a list of names and values somewhere). Here you’ll be able to see what
value different variables have. Some of these are built in to the browser, or part of the
internal workings of jsPsych – don’t worry about these for now.</p>
<p>The important thing to note is that you can see the value for the node (in the tutorial,
this is called <code class="docutils literal notranslate"><span class="pre">trial</span></code>). As you build up a more complex program there will be
many variables, and their values can change as the program runs, so it’s good
to know that you can inspect this as the program runs.</p>
<p>You can also continue running the program. These tools, or something like them, will be
near the code:</p>
<a class="reference internal image-reference" href="_images/debugger_controls.png"><img alt="_images/debugger_controls.png" src="_images/debugger_controls.png" style="width: 20%;" /></a>
<p>The first of these controls (the triangle or “play button”)
lets the program continue running until it finishes, or until another breakpoint is reached.
The second steps through the code gradually, one line at a time.</p>
</div>
<div class="section" id="the-console-again">
<h3>The console again<a class="headerlink" href="#the-console-again" title="Permalink to this headline">¶</a></h3>
<p>The console also allows you to try out bits of JavaScript. This can be really
useful for learning, or trying out a small example to figure out why something
doesn’t work.</p>
<p>(Note: in Firefox there is a distinction between “Web Console” and “Browser Console”.
The first one shows just the errors for the page we’re on – this is the one we want to use.)</p>
<p>Let’s try out the Array (list) method <code class="docutils literal notranslate"><span class="pre">.filter()</span></code>. This takes a function and returns
all the items for which the function returns true.</p>
<p>So in this code (try it!):</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">example</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">22</span><span class="p">];</span>
<span class="nx">example</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">x</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">;</span> <span class="p">});</span>
</pre></div>
</div>
<p>wherever the value in the list is greater than 10, <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&gt;</span> <span class="pre">10</span></code> is <code class="docutils literal notranslate"><span class="pre">true</span></code>, and
so it’s included in the result. Where <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&gt;</span> <span class="pre">10</span></code> is <code class="docutils literal notranslate"><span class="pre">false</span></code>, it’s not
included.</p>
<p>Note that I didn’t have to do anything to print out the value. This is a
convenience in the JavaScript console interface – if a value is returned it
assumes you want to see it! (This is in common with e.g. the Python and MATLAB
prompts that do the same thing).</p>
<p>There are lots of useful methods like this in JavaScript,
particularly for Array and String.
If you find yourself writing custom code for something that seems like it
should be simple, take
a look as it might already be built in to the JavaScript language. You can also
include JavaScript libraries other than jsPsych to add extra functionality.</p>
<p>That concludes the introduction to Developer Tools. Don’t worry if you didn’t understand
everything on the screen when it was running – the important thing is to know that it’s
there to help you when your program isn’t working!</p>
</div>
</div>
<div class="section" id="task-stroop-task">
<h2>Task – Stroop task<a class="headerlink" href="#task-stroop-task" title="Permalink to this headline">¶</a></h2>
<p>Let’s create a Stroop task in jsPsych.</p>
<p>In general when creating an experiment,
it’s useful to break the task down into smaller, easily testable things that we
can do. So for now, let’s skip saving data, and just use
<code class="docutils literal notranslate"><span class="pre">jsPsych.data.displayData</span></code> to show the results at the end.</p>
<p>Here’s a list of progressively harder tasks to guide you towards a solution:</p>
<ul class="simple">
<li><p>Display a word in large text in the centre of the screen</p></li>
<li><p>Vary the colour of the word</p></li>
<li><p>Generate trials for all word / colour combinations using factorial design
(in a real experiment we’d want 50% congruent and 50% incongruent trials –
I’ll leave that to the end!)</p></li>
<li><p>Add a fixation cross before the word stimulus, and a blank screen for an
inter-trial interval afterwards.</p></li>
</ul>
<div class="section" id="hints">
<h3>Hints<a class="headerlink" href="#hints" title="Permalink to this headline">¶</a></h3>
<p>Hints to get you started on this task:</p>
<ul class="simple">
<li><p>You can apply some style to text in HTML without changing the CSS file. You
can enclose the text in tags and use <code class="docutils literal notranslate"><span class="pre">style=</span></code>. For example:
<code class="docutils literal notranslate"><span class="pre">&lt;span</span> <span class="pre">style=&quot;font-weight:</span> <span class="pre">bold&quot;&gt;word&lt;/span&gt;</span></code>.</p></li>
<li><p>Look up the CSS properties <code class="docutils literal notranslate"><span class="pre">font-size</span></code> and <code class="docutils literal notranslate"><span class="pre">color</span></code> – remember MDN is
good for this!</p></li>
<li><p>A blank screen can just be a <code class="docutils literal notranslate"><span class="pre">html-keyboard-response</span></code> showing an empty
string (<code class="docutils literal notranslate"><span class="pre">stimulus:</span> <span class="pre">&quot;&quot;</span></code>)</p></li>
</ul>
<div class="topic">
<p class="topic-title">Breakout</p>
<p>Let’s go into our breakout groups to work on this task!</p>
</div>
</div>
</div>
<div class="section" id="task-saving-data">
<h2>Task - Saving data<a class="headerlink" href="#task-saving-data" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="data.html#data"><span class="std std-ref">Getting data from your experiment</span></a></p>
</div>
<div class="section" id="task-participant-numbers">
<h2>Task - Participant numbers<a class="headerlink" href="#task-participant-numbers" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="ppt.html#ppt"><span class="std std-ref">Allocating participant and condition numbers</span></a></p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Online Experiments</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="web.html">01 About the Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="jspsych_au.html">02 An introduction to jsPsych</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">03 jsPsych practical</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#documentation-and-examples">Documentation and examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cyberduck">CyberDuck</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-jspsych">Installing jsPsych</a></li>
<li class="toctree-l2"><a class="reference internal" href="#more-experiments">More experiments</a></li>
<li class="toctree-l2"><a class="reference internal" href="#console-and-debugger">Console and debugger</a></li>
<li class="toctree-l2"><a class="reference internal" href="#task-stroop-task">Task – Stroop task</a></li>
<li class="toctree-l2"><a class="reference internal" href="#task-saving-data">Task - Saving data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#task-participant-numbers">Task - Participant numbers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="repetition.html">A1 Repetition code example</a></li>
<li class="toctree-l1"><a class="reference internal" href="factorial.html">A2 Factorial code example</a></li>
<li class="toctree-l1"><a class="reference internal" href="factorial_with_fixation.html">A3 Factorial with fixation</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasaving.html">B1 Data saving example</a></li>
<li class="toctree-l1"><a class="reference internal" href="linebyline.html">B2 Data saving line-by-line example</a></li>
<li class="toctree-l1"><a class="reference internal" href="surveytext.html">B3 Exercise: Use survey-text to add a property</a></li>
<li class="toctree-l1"><a class="reference internal" href="record_result.html">B4 PHP code to save data on the server</a></li>
<li class="toctree-l1"><a class="reference internal" href="pptcondition.html">C1 Participant and condition number example</a></li>
<li class="toctree-l1"><a class="reference internal" href="multiple_images.html">D1 Multiple images example using timeline variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="multiple_images_loop.html">D2 Multiple images example using a loop</a></li>
<li class="toctree-l1"><a class="reference internal" href="stroop_timeline_variables.html">D3 Stroop example using timeline variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="stroop_loop.html">D4 Stroop example using a loop</a></li>
<li class="toctree-l1"><a class="reference internal" href="stroop_functions.html">D5 Stroop example using functions</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="jspsych_au.html" title="previous chapter">An introduction to jsPsych</a></li>
      <li>Next: <a href="repetition.html" title="next chapter">Repetition code example</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
      &copy;2020, Alisdair Tullo and The University of Edinburgh.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.0.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/jspsych_au_pract.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
<div class="footer" role="contentinfo">
<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Online Experiments</span> by <span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">Alisdair Tullo</span> and copyright The University of Edinburgh is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.<br />Based on a work at <a xmlns:dct="http://purl.org/dc/terms/" href="https://softdev.ppls.ed.ac.uk/online_experiments" rel="dct:source">https://softdev.ppls.ed.ac.uk/online_experiments</a>.
</div>

  </body>
</html>